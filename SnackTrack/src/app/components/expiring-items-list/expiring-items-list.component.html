<ion-card>
  <ion-card-header>
    <ion-card-title>
      <ion-icon name="warning-outline" color="warning"></ion-icon>
      Bald ablaufende Lebensmittel
    </ion-card-title>
    <ion-card-subtitle>Innerhalb der nächsten 7 Tage</ion-card-subtitle>
  </ion-card-header>

  <ion-card-content>
    <ion-list *ngIf="expiringSoonItems$ | async as items">
      <div *ngIf="items.length === 0" class="no-items">
        <ion-icon
          name="checkmark-circle-outline"
          color="success"
          size="large"
        ></ion-icon>
        <p>Keine bald ablaufenden Lebensmittel!</p>
      </div>

      <ion-item *ngFor="let item of items" [color]="getItemColor(item)">
        <ion-label>
          <h2>{{ item.name }}</h2>
          <p>{{ item.quantity }} {{ item.unit }} - {{ item.category.name }}</p>
          <p class="expiry-info">
            <ion-icon name="calendar-outline" size="small"></ion-icon>
            Läuft ab am: {{ item.expiryDate | date : "dd.MM.yyyy" }}
            <span class="days-left">({{ getDaysLeft(item.expiryDate) }})</span>
          </p>
        </ion-label>

        <ion-badge slot="end" [color]="getBadgeColor(item)">
          {{ getDaysLeft(item.expiryDate) }}
        </ion-badge>
      </ion-item>
    </ion-list>
  </ion-card-content>
</ion-card>
