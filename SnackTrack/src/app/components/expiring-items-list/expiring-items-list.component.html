<ion-card>
  <ion-card-header>
    <ion-card-title>
      <ion-icon name="warning-outline" color="warning"></ion-icon>
      Bald ablaufende Lebensmittel
    </ion-card-title>
    <ion-card-subtitle>Innerhalb der nächsten 7 Tage</ion-card-subtitle>
  </ion-card-header>

  <ion-card-content>
    @if(expiringSoonItems$ | async; as items){
          <ion-list>
            @if(items.length === 0){
      <div class="no-items">
        <ion-icon
          name="checkmark-circle-outline"
          color="success"
          size="large"
        ></ion-icon>
        <p>Keine bald ablaufenden Lebensmittel!</p>
      </div>
            }

      @for(item of items; track item.id){
      <ion-item [color]="getItemColor(item)">
        <ion-label>
          <h2>{{ item.name }}</h2>
          <p>{{ item.quantity }} {{ item.unit }}</p>
          <p class="expiry-info">
            <ion-icon name="calendar-outline" size="small"></ion-icon>
            Läuft ab am: {{ item.expiryDate | date : "dd.MM.yyyy" }}
            <span class="days-left">({{ getDaysLeft(item.expiryDate) }})</span>
          </p>
        </ion-label>

        <ion-badge slot="end" [color]="getBadgeColor(item)">
          {{ getDaysLeft(item.expiryDate) }}
        </ion-badge>
      </ion-item>
      }

    </ion-list>
    }

  </ion-card-content>
</ion-card>
